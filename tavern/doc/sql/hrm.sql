/*
Navicat MySQL Data Transfer

Source Server         : 119.3.19.171
Source Server Version : 50560
Source Host           : 119.3.19.171:3306
Source Database       : hrm

Target Server Type    : MYSQL
Target Server Version : 50560
File Encoding         : 65001

Date: 2019-10-22 00:40:42
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for HRM_ROLE_AUTH
-- ----------------------------
DROP TABLE IF EXISTS `HRM_ROLE_AUTH`;
CREATE TABLE `HRM_ROLE_AUTH` (
  `ROLE_ID` varchar(45) NOT NULL,
  `AUTH_TYPE` varchar(45) NOT NULL COMMENT 'C,U,R,D',
  `ITEM` varchar(45) NOT NULL,
  `ITEM_TYPE` varchar(45) NOT NULL COMMENT '1:MENU,2:BUTTON',
  PRIMARY KEY (`ROLE_ID`,`ITEM`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- ----------------------------
-- Records of HRM_ROLE_AUTH
-- ----------------------------

-- ----------------------------
-- Table structure for HRM_ROLE_INFO
-- ----------------------------
DROP TABLE IF EXISTS `HRM_ROLE_INFO`;
CREATE TABLE `HRM_ROLE_INFO` (
  `ROLE_ID` varchar(45) CHARACTER SET utf8 NOT NULL COMMENT '角色ID',
  `ROLE_NAME` varchar(45) CHARACTER SET utf8 DEFAULT NULL,
  `PARENT_ROLE` varchar(45) CHARACTER SET utf8 DEFAULT NULL COMMENT '上级角色ID',
  PRIMARY KEY (`ROLE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='角色信息表';

-- ----------------------------
-- Records of HRM_ROLE_INFO
-- ----------------------------
INSERT INTO `HRM_ROLE_INFO` VALUES ('ADMIN', 'ADMIN', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_CN', '出纳', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_CWZG', '财务主管', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_KHJL', '客户经理', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_SCZG', '市场主管', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_SH', '售后', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_SQ', '售前', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_WQ', '外勤', null);
INSERT INTO `HRM_ROLE_INFO` VALUES ('R_WQZG', '外勤主管', null);

-- ----------------------------
-- Table structure for HRM_USER_BASIC_INFO
-- ----------------------------
DROP TABLE IF EXISTS `HRM_USER_BASIC_INFO`;
CREATE TABLE `HRM_USER_BASIC_INFO` (
  `USER_ID` varchar(45) NOT NULL COMMENT '用户ID内码',
  `USER_NAME` varchar(45) CHARACTER SET utf8 NOT NULL COMMENT '用户姓名',
  `USER_ACCNT` varchar(45) CHARACTER SET utf8 NOT NULL COMMENT '用户登录账号',
  `SALT` varchar(45) CHARACTER SET utf8 DEFAULT NULL COMMENT '盐',
  `PASSWORD` varchar(100) CHARACTER SET utf8 DEFAULT NULL COMMENT '用户登录密码',
  `IS_VALID` varchar(1) CHARACTER SET utf8 DEFAULT NULL,
  `UPDATE_DATE` datetime DEFAULT NULL,
  PRIMARY KEY (`USER_ID`,`USER_ACCNT`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- ----------------------------
-- Records of HRM_USER_BASIC_INFO
-- ----------------------------
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('1', 'ADMIN', 'ADMIN', null, '123', '1', '2019-08-08 00:00:00');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('15902a94b57648549216a8f2ed0765d7', '张强强', '张强强', '8bfc481fd84147938e52', '8be3f7aad312218303669faf316269bd', '1', '2019-10-17 14:53:33');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('167390cb434c4d539c9ba1760ba1e901', '魏稳根', '魏稳根', 'd6c097544bfc465f985a', '4c5d8407ca3d70f6f04715fb27152875', '1', '2019-10-17 14:51:40');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('24f1228d56b743b399e1f8d4ec70fc67', '田国庆', '田国庆', '28fc5d60819f4b2baa9c', '36cc3fc2074efaa7f29e53a5b8a2affc', '1', '2019-10-17 14:53:39');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('2869b57d6832449c916dbbb4e2128cac', '郑安心', '郑安心', '949f66fb222746ca8592', 'a09d9335b88defed9c950422f51ba51e', '1', '2019-10-17 14:53:19');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('39580cc856b3449aa1fc89e99c025f70', '许铭涛', '许铭涛', 'bd325b81f5a54b81817e', 'a17920fe99a7531214cb27c638e4baf2', '1', '2019-10-17 14:51:18');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('3d2c42b03ead49dba7d65ddf1f854428', '陈峰', '陈峰', '1a8b63a9ba0241558329', '524954ad1c2e09d8974b24871839f201', '1', '2019-10-17 14:51:29');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('50ee1bda83f140eea692a78fa0b373e8', '刘凯利', '刘凯利', '3dcd75bc6cb341bc8cc8', '4393a9d9c3308f3029daad9531f7ea15', '1', '2019-10-17 14:13:17');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('55652e900c044b78b6e463b4253a7eb2', '沈郁辉', '沈郁辉', '5bfaa49e8f124dadb98c', '3446b41295270a03db7dcf14a2ae0a4b', '1', '2019-10-17 14:55:12');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('76562dba30ef49a0b8cffa04420ea7c5', '陈翌路', '陈翌路', 'dbaac60a523f43d4b0b9', 'de179770444dae643bcf7529c38d9ba9', '1', '2019-10-21 10:59:24');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('7a8525b44a1e497db64eb0e092919d18', '蒋志霞', '蒋志霞', '8c82260cb08d4670a79a', 'ed98098d17f987a9eb2fe7bdfa76f23d', '1', '2019-10-17 14:50:12');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('84960f35edd144899dd1f8ee4505f9d3', '黄荣', '黄荣', 'c5428b2f6f244e5893d6', 'a37eadcde4d5e6c26b23a3dd185c3b9f', '1', '2019-10-17 14:57:24');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('860f4bedb3f64010a92a90f08e8d0d05', '陈东宏', '陈东宏', '07de8808ae1142f283f1', '0d4b160e83f211d4838c0dd913c3f04d', '1', '2019-10-17 14:51:46');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('8b4dad8599794e21a6790c7e21b93067', '龚嘉玺', '龚嘉玺', '6e759db3740e4c3c8570', 'a61f40bdebdea35198994ccc96856773', '1', '2019-10-17 14:54:45');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('9d076a1a85b944df9ea1538c28dbeb80', '衡姗珊', '衡姗珊', '31dd8174c0464a398fea', '8a2f1e8d0e3be00a9d16a39bf8d0405c', '1', '2019-10-17 14:57:01');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('9de1bb85ca9f434299ec2875cd8b5cde', '石颖', '石颖', '8d6485ed13ce45d0a62d', '3675c48c0cff3fce299b27fbbc12650d', '1', '2019-10-17 14:55:29');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('adfd9d5b973e43cd86e360454ef1ec5c', '刘尉', '刘尉', '42fad9f9b63a47c6979b', '084411c4b8b2de3b4e66780bac72b442', '1', '2019-10-17 14:57:30');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('d66eb3514b504938a18c2439a843b666', '吴鸿儒', '吴鸿儒', '4c70bc8a67ff4d00a0dc', '17d01ae0ac69e08ce4b7c7a768335d05', '1', '2019-10-17 14:57:08');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('e2a08e2f5bfa484893702f224a5a6335', '陈婷婷', '陈婷婷', 'e6d1bbd322ac4f808709', 'eed6cb6ca064c285a36abfab5e008efe', '1', '2019-10-17 14:53:59');
INSERT INTO `HRM_USER_BASIC_INFO` VALUES ('e31758ba68804628aff180ceb271650b', '钮思傲', '钮思傲', 'd124d8574f9e42439cd0', '9810012588eb203592b330d235fd6b6e', '1', '2019-10-17 14:53:27');

-- ----------------------------
-- Table structure for HRM_USER_ROLE_REL
-- ----------------------------
DROP TABLE IF EXISTS `HRM_USER_ROLE_REL`;
CREATE TABLE `HRM_USER_ROLE_REL` (
  `USER_ID` varchar(45) CHARACTER SET utf8 NOT NULL,
  `ROLE_ID` varchar(45) CHARACTER SET utf8 NOT NULL,
  `UPDATE_DATE` datetime DEFAULT NULL,
  PRIMARY KEY (`USER_ID`,`ROLE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='用户角色关联表';

-- ----------------------------
-- Records of HRM_USER_ROLE_REL
-- ----------------------------
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('1', 'ADMIN', '2019-08-08 23:49:24');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('15902a94b57648549216a8f2ed0765d7', 'R_WQ', '2019-10-17 14:53:33');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('167390cb434c4d539c9ba1760ba1e901', 'R_SH', '2019-10-17 14:51:40');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('24f1228d56b743b399e1f8d4ec70fc67', 'R_WQ', '2019-10-17 14:53:39');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('2869b57d6832449c916dbbb4e2128cac', 'R_WQ', '2019-10-17 14:53:19');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('39580cc856b3449aa1fc89e99c025f70', 'R_SQ', '2019-10-17 14:51:18');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('3d2c42b03ead49dba7d65ddf1f854428', 'R_SH', '2019-10-17 14:51:29');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('50ee1bda83f140eea692a78fa0b373e8', 'R_SQ', '2019-10-17 14:13:17');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('55652e900c044b78b6e463b4253a7eb2', 'R_SCZG', '2019-10-17 14:55:12');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('76562dba30ef49a0b8cffa04420ea7c5', 'R_KHJL', '2019-10-21 10:59:24');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('76562dba30ef49a0b8cffa04420ea7c5', 'R_SH', '2019-10-21 10:59:24');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('7a8525b44a1e497db64eb0e092919d18', 'R_SQ', '2019-10-17 14:50:12');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('84960f35edd144899dd1f8ee4505f9d3', 'R_KHJL', '2019-10-17 14:57:24');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('860f4bedb3f64010a92a90f08e8d0d05', 'R_SQ', '2019-10-17 14:51:46');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('8b4dad8599794e21a6790c7e21b93067', 'R_CWZG', '2019-10-17 14:54:45');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('9d076a1a85b944df9ea1538c28dbeb80', 'R_KHJL', '2019-10-17 14:57:01');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('9de1bb85ca9f434299ec2875cd8b5cde', 'R_CN', '2019-10-17 14:55:29');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('9de1bb85ca9f434299ec2875cd8b5cde', 'R_WQZG', '2019-10-17 14:55:29');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('adfd9d5b973e43cd86e360454ef1ec5c', 'R_KHJL', '2019-10-17 14:57:30');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('d66eb3514b504938a18c2439a843b666', 'R_KHJL', '2019-10-17 14:57:08');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('e2a08e2f5bfa484893702f224a5a6335', 'R_WQ', '2019-10-17 14:53:59');
INSERT INTO `HRM_USER_ROLE_REL` VALUES ('e31758ba68804628aff180ceb271650b', 'R_WQ', '2019-10-17 14:53:27');

-- ----------------------------
-- Procedure structure for UTF8
-- ----------------------------
DROP PROCEDURE IF EXISTS `UTF8`;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `UTF8`()
BEGIN
 
    declare stop int default 0;
 
    declare tabCount int default 0;
 
    declare strSql varchar(1000);
 
    declare name varchar(100);
 
    declare cur CURSOR FOR select table_name from information_schema.tables where table_schema='hrm';
 
    declare CONTINUE HANDLER FOR SQLSTATE '02000' SET stop = null;
 
    OPEN cur;
 
    FETCH cur INTO name;
 
    WHILE ( stop is not null) DO
 
        set tabCount=tabCount+1;
 
        set strSql = concat('alter table `',name,'` convert to character set utf8');
 
        set @sql1 = strSql;
 
        prepare stmt_p from @sql1;
 
        execute stmt_p;
 
        FETCH cur INTO name;
 
    END WHILE;
 
    CLOSE cur;
 
    SELECT concat('table: ', tabCount);
 
END
;;
DELIMITER ;
